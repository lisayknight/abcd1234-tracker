<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Website</title>
<!-- Using a Content Delivery Network to install jquery -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script> 
<link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="vertical-nav1">
    <ul>
      <li id="dashboard"><a href="index.html">Dashboard</a></li>
    </ul>
  </div>
  
  <div class="vertical-nav2">
    <ul>
      <li id="library">Library</a></li>
      <li id="plus"><a href="logbook-form.html">+</a></li>
      <ul class="sub-menu">
        <li id="logbook"><a href="logbook.html">Logbook</a></li>
        <li id="myfridge"><a href="myfridge.html">My Fridge</a></li>
      </ul>
      <li id="recent">Recently Added</li>
      <ul id="recentItemsNav" class="recent-items-nav"></ul>
    </ul>
  </div>
  <div class="container">
    <div class="content-area">
    <!-- Display submitted soup form data here -->
      <ul id="submittedSoupData"></ul>

      <div class="parent-container-log">
        <div class="empty-space"></div>
          <h1 id="heading-log">LOGBOOK</h1>
          <div class="empty-space"></div>
          <!-- Mountain Lodge Section -->
              <div class="log-container">
                <div class="log-container">
                  <!-- <img src="site-images/Mountain Lodge.png" alt="Image of a Mountain Lodge in Banff" id="accom-img1"> -->
                </div>


                <div class="log-section">
                  <div class="text-container-log1">
                  <h4>MOUNTAINEER LODGE ★★★</h4>
                  </div>
                  <h6>Lake Louise</h6>
                  <p>100m from town centre</p>
                  <div class="text-container-log2">
                  <h6>Set in Banff National Park and the village of Lake Louise,
                      this hotel features an indoor hot tub. Free Wi-Fi and satellite
                      TV are provided in all rooms.</h6>
                  <p>See on map</pp>
                  </div>
                  <!-- <img src="site-images/Map1.png" alt="Map of Lake Louise" id="map1"> -->
                  </div>
               


                <div class="log-section">
                  <div class="text-container-log3">
                  <h5>Property Highlights</h5>
                  <h6>Top location: Highly rated by recent guests (9.0)</h6>
                  </div>
                  <div class="text-container-log4">
                  <h5>Most Popular Facilities</h5>
                  <h6>
                      <li>24-hour Front Desk</li>
                      <li>Free Parking</li>
                      <li>Breakfast Included</li>
                      <li>Laundry</li>
                      <li>Lockers</li>
                      <li>Air Conditioning</li>
                      <li>Skiing</li>
                      <li>Hiking</li>
                      <li>Facilities for Disabled Guests</li>
                      <li>Designated Smoking Areas</li>
                  </h6>
                  </div>
                </div>
              </div>
              <!-- End of Mountain Lodge Section -->


              <div class="empty-space"></div>


              <!-- Hi Lodge Section -->
              <div class="log-container">
                  <div class="log-section">
                    <!-- <img src="site-images/Alpine Centre.png" alt="Image of a hostel in Banff" id="accom-img2"> -->
                  </div>

                  <div class="log-section">
                    <div class="text-container-log1">
                    <h4>HI LAKE LOUISE ALPINE CENTRE ★★</h4>
                    </div>
                    <h6>Lake Louise</h6>
                    <p>500m from town centre</p>
                    <div class="text-container-log2">
                    <h6>Set amid the Canadian Rockies in Banff National Park, this hostel boasts an on-site
                      cafe and 2 self-catering guest kitchens. It includes private storage for guests and
                      acts as a ski pass vendor.</h6>
                    <p>See on map</p>
                    </div>
                    </div>
                 

                  <div class="log-section">
                    <div class="text-container-log3">
                    <h5>Property Highlights</h5>
                    <h6>Top location: Highly rated by recent guests (9.1)</h6>
                    </div>
                    <div class="text-container-log4">
                    <h5>Most Popular Facilities</h5>
                    <h6>
                        <li>Laundry</li>
                        <li>Lockers</li>
                        <li>Air Conditioning</li>
                        <li>Skiing</li>
                        <li>Hiking</li>
                        <li>BBQ Facilities</li>
                        <li>Non-smoking Rooms</li>
                        <li>Sauna</li>
                        <li>Outdoor Fire Place</li>
                    </h6>
                    </div>
                  </div>
                </div>
                <!-- End of Hi Lodge Section -->
            </div>

    </div>
  </div>
  <script src="script.js"></script>
  <script>
    // Function to load and display submitted soup form data
    function loadSubmittedSoupData() {
      const logbookFormData = JSON.parse(localStorage.getItem("logbookFormData"));
      const submittedSoupData = document.getElementById("submittedSoupData");
      if (!submittedSoupData) {
        console.error("Could not find the 'submittedSoupData' list.");
        return;
      }

      submittedSoupData.innerHTML = ""; // Clear existing data

      if (logbookFormData) {
        // Create list items for each submitted soup
        logbookFormData.forEach(soup => {
          let listItem = document.createElement("li");
          listItem.textContent = `Name: ${soup.soupName}, Cuisine: ${soup.cuisine}`;
          submittedSoupData.appendChild(listItem);
        });
      } else {
        // No submitted soup data found
        let messageItem = document.createElement("li");
        messageItem.textContent = "No submitted soup data.";
        submittedSoupData.appendChild(messageItem);
      }
    }

        // Function to load recent items from Local Storage and populate the recent items list in the navigation bar
        function loadRecentItemsNav() {
      const recentItems = localStorage.getItem("recentItems") || "[]";
      const parsedItems = JSON.parse(recentItems);
      const recentItemsNav = document.getElementById("recentItemsNav");
      if (!recentItemsNav) {
        console.error("Could not find the 'recentItemsNav' list.");
        return;
      }

      recentItemsNav.innerHTML = ""; // Clear existing items

      for (const item of parsedItems) {
        let listItem = document.createElement("li");
        listItem.innerHTML = `${item.type}: ${item.name} (${item.detail})`;

        // Create and append delete button
        let deleteButton = document.createElement("button");
        deleteButton.innerHTML = "Delete";
        deleteButton.onclick = function() {
          deleteItem(item.id);
        };

        listItem.appendChild(deleteButton); // Append delete button to the list item
        recentItemsNav.appendChild(listItem);
      }
    }

    // Function to delete an item from the recent list and Local Storage
    function deleteItem(id) {
      const recentItems = JSON.parse(localStorage.getItem("recentItems")) || [];
      const updatedItems = recentItems.filter(item => item.id !== id);
      localStorage.setItem("recentItems", JSON.stringify(updatedItems));
      loadRecentItemsNav(); // Reload recent items list to reflect the deletion
    }

    // Call the loadRecentItemsNav function on page load
    window.addEventListener("load", loadRecentItemsNav);

    $(document).ready(function() {
  // Parse the form data from the URL
  const urlParams = new URLSearchParams(window.location.search);
  const formData = JSON.parse(urlParams.get('formData'));

  // Display the form data
  for (const key in formData) {
    const value = formData[key];
    $('#dataDisplay').append(`<p>${key}: ${value}</p>`);
  }
    });

  </script>
</body>
</html>
